<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Projet PHP - MongoDB</title>
</head>
<body>
    <h1>Projet PHP + MongoDB</h1>
    <h2>Equipe 4</h2>
    <ul>
        <li>Claire BESSOU - Chef de projet</li>
        <li>Ainsley REMY</li>
        <li>David FOURNIER</li>
        <li>Michael MEUNIER</li>
    </ul>
    <h2>Objectif : réaliser une application de maintenance d'une base de données de villes.</h2>
    <h3>Affichage des villes</h3>
    <p>Le site permettra à tous les utilisateurs de rechercher et afficher les informations d'une ville.
        Pour cela, un formulaire sur la page d'accueil lui permettra d'indiquer le nom d'une ville ainsi
        que le département et/ou la région où elle se situe. La description de la ville, ou la liste des
        villes, sera affichée en dessous du formulaire après l'envoi.<br>
        Si il n'y a qu'une seule ville correspondant au critères de recherche, toutes ses informations
        présentes dans la base de données parmi celles-ci seront affichées :
    </p>
    <ul>
        <li>Son nom</li>
        <li>Sa population</li>
        <li>Son code postal</li>
        <li>Ses coordonnées (latitude, longitude)</li>
        <li>Le nom de son département</li>
        <li>Le nom de sa région</li>
        <li>Une carte indiquant sa position dans le département</li>
    </ul>
    <p>Si plusieurs villes correspondent aux critères demandés, la liste des villes sera affichée sous
        forme de liens, avec leur nom et leur département.</p>
    <h3>Mise à jour de la base de données</h3>
    <p>Le site doit également permettre aux utilisateurs inscrits de modifier certaines informations
    dans la base de données. Les informations pouvant être mises à jour dépendent du type de profil de
    l'utilisateur :</p>
    <ul>
        <li>Profil Editeur :
            <ul>
                <li>Code postal de la ville</li>
                <li>Population de la ville</li>
            </ul></li>
        <li>Profil Administrateur :
        <ul>
            <li>Nom de la région</li>
            <li>Appartenance des départements aux régions</li>
        </ul></li>
    </ul>
    <p>Un formulaire sur la page d'accueil doit permettre aux utilisateurs de s'authentifier avec un
        nom d'utilisateur et un mot de passe. Si l'utilisateur est connecté, un lien pour modifier les
        informations de la ville sélectionnée sera ajouté lors de l'affichage de celle-ci.</p>
    <p>La page de maintenance affichera un formulaire contenant les données mofifiables de la ville.</p>
    <h2>Structure du site</h2>
    <p>Page d'accueil :</p>
    <img src="accueil_nc_nr.png" alt="interface non connecté">
    <img src="accueil_c_nr.png" alt="interface connecté">
    <h2>Fonctionnalités</h2>
    
    <h2>Technique</h2>
    <h3>Stockage des données</h3>
    <p>Base de données MongoDB existante : geo_france</p>
    <ul>
        <li>Collections existantes :<ul>
            <li>villes (propriétés modifiables : pop, cp - immuables : nom, lat, lon, _id_dept)</li>
            <li>departements (propriété modifiable : _id_region - immuables : code, contours, nom)</li>
            <li>regions (propriété modifiable : nom)</li>
        </ul></li>
        <li>Collection à ajouter :<ul>
            <li>users (nom, mdp, profil)</li>
        </ul></li>
    </ul>
    <h3>Fonctionnalités détaillées</h3>
    <h4>Connexion</h4>
    <p>Formulaire de connexion utilisant la méthode post.<br>
    Champs :</p>
    <ul>
        <li>Nom d'utilisateur - input type : text, nom : util</li>
        <li>Mot de passes - input type : password, nom : mdp</li>
        <li>Connexion - input type : submit, nom : connect</li>
    </ul>
    <p>Après un clic sur connexion, une requêtre sera envoyée à la base de données pour récupérer
    le document de la collection users correspondant exactement à ce nom et ce mot de passe.<br>
    Le nom d'utilisateur et son type de profil seront stockés dans la session en cours.<br>
    Si aucune correspondance n'est trouvée, un message d'erreur sera affiché.</p>
</body>
</html>
